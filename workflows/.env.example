# ============================================================================
# WF0 - CONFIGURAÇÕES DE AMBIENTE
# ============================================================================
# Copie este arquivo para .env e preencha com suas credenciais

# ============================================================================
# SUPABASE (Obrigatório)
# ============================================================================
SUPABASE_HOST=db.xxx.supabase.co
SUPABASE_PORT=5432
SUPABASE_DATABASE=postgres
SUPABASE_USER=postgres
SUPABASE_PASSWORD=your-password-here
SUPABASE_SSL=true

# ============================================================================
# OPENAI (Obrigatório)
# ============================================================================
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_MODEL_DEFAULT=gpt-4o-mini
OPENAI_MODEL_ADVANCED=gpt-4o
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=1000

# ============================================================================
# CHATWOOT (Obrigatório)
# ============================================================================
CHATWOOT_BASE_URL=https://app.chatwoot.com
CHATWOOT_ACCOUNT_ID=your-account-id
CHATWOOT_API_TOKEN=your-api-token-here
CHATWOOT_WEBHOOK_URL=https://seu-n8n.com/webhook/chatwoot-webhook

# ============================================================================
# GOOGLE CLOUD (Opcional - para transcrição de áudio)
# ============================================================================
# Service Account JSON path
GOOGLE_CLOUD_SERVICE_ACCOUNT_PATH=/path/to/service-account.json
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_SPEECH_TO_TEXT_LANGUAGE=pt-BR
GOOGLE_SPEECH_TO_TEXT_MODEL=default

# ============================================================================
# REDIS (Opcional - para buffer de mensagens)
# ============================================================================
REDIS_HOST=localhost
# Para Upstash: redis-xxxxx.upstash.io
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_BUFFER_TTL=5
# TTL em segundos para agrupar mensagens

# ============================================================================
# VECTOR DB - PINECONE (Opcional - para RAG)
# ============================================================================
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_NAME=saas-agents
PINECONE_NAMESPACE_PREFIX=client
# Namespace format: {NAMESPACE_PREFIX}/{client_id}/{agent_id}

# ============================================================================
# VECTOR DB - QDRANT (Alternativa ao Pinecone)
# ============================================================================
QDRANT_HOST=http://localhost:6333
# Para Qdrant Cloud: https://xxx.qdrant.io
QDRANT_API_KEY=your-qdrant-api-key
QDRANT_COLLECTION_NAME=saas_agents

# ============================================================================
# MONITORING & LOGGING (Opcional)
# ============================================================================
SENTRY_DSN=https://xxx@sentry.io/xxx
# Para error tracking
LOG_LEVEL=info
# debug | info | warn | error

# ============================================================================
# CUSTOS & LIMITES (Configuração do Sistema)
# ============================================================================
# Custos por operação (USD)
COST_TRANSCRIPTION_PER_MINUTE=0.006
COST_VISION_PER_IMAGE=0.01
COST_LLM_PER_1K_TOKENS=0.0001
COST_RAG_QUERY=0.0001

# Limites padrão (podem ser sobrescritos por template)
DEFAULT_MESSAGE_LIMIT=1000
DEFAULT_TRANSCRIPTION_MINUTES_LIMIT=60
DEFAULT_IMAGES_LIMIT=100

# ============================================================================
# TAXA DE CÂMBIO (para cálculos de MRR)
# ============================================================================
USD_TO_BRL_RATE=5.33
# Atualizar mensalmente ou integrar com API de câmbio

# ============================================================================
# TOOLS & INTEGRAÇÕES (Opcional)
# ============================================================================
# Google Calendar
GOOGLE_CALENDAR_CLIENT_ID=your-client-id
GOOGLE_CALENDAR_CLIENT_SECRET=your-client-secret
GOOGLE_CALENDAR_REDIRECT_URI=http://localhost:5678/oauth2/callback

# Google Sheets
GOOGLE_SHEETS_CLIENT_ID=your-client-id
GOOGLE_SHEETS_CLIENT_SECRET=your-client-secret

# Notion
NOTION_API_TOKEN=secret_xxx

# Trello
TRELLO_API_KEY=your-api-key
TRELLO_TOKEN=your-token

# ============================================================================
# N8N (Configurações do servidor)
# ============================================================================
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=your-secure-password

N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=https
N8N_WEBHOOK_URL=https://seu-n8n.com/

# Timezone
GENERIC_TIMEZONE=America/Sao_Paulo

# Executions
EXECUTIONS_DATA_SAVE_ON_ERROR=all
EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true

# ============================================================================
# WHATSAPP - EVOLUTION API (Opcional)
# ============================================================================
EVOLUTION_API_URL=https://evolution-api.com
EVOLUTION_API_KEY=your-evolution-api-key
EVOLUTION_INSTANCE_NAME=clinica_sorriso

# ============================================================================
# FEATURES FLAGS (Habilitar/Desabilitar funcionalidades)
# ============================================================================
FEATURE_AUDIO_TRANSCRIPTION=true
FEATURE_IMAGE_VISION=true
FEATURE_DOCUMENT_EXTRACTION=true
FEATURE_RAG_ENABLED=true
FEATURE_BUFFER_ENABLED=true
FEATURE_FUNCTION_CALLING=true
FEATURE_USAGE_TRACKING=true

# ============================================================================
# ALERTAS & NOTIFICAÇÕES (Opcional)
# ============================================================================
# Email para alertas críticos
ALERT_EMAIL=admin@seudominio.com

# Slack webhook para notificações
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx

# Thresholds para alertas
ALERT_USAGE_THRESHOLD=0.8
# Alertar quando atingir 80% do limite

ALERT_ERROR_THRESHOLD=10
# Alertar após 10 erros consecutivos

# ============================================================================
# DESENVOLVIMENTO (Apenas para ambiente local)
# ============================================================================
NODE_ENV=production
# development | production

DEBUG_MODE=false
# true para logs detalhados

MOCK_APIS=false
# true para usar respostas mockadas (desenvolvimento)
